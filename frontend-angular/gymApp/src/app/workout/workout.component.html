<p></p><div class="mb-3 float-right">
  <div class="btn-group mr-2">
<!--    <form class="form-inline my-2 my-lg-0 justify-content-center">-->
<!--      <input name="searchTerm" #searchInput="ngModel" class="form-control mr-sm-2" ngModel-->
<!--             (ngModelChange)="searchWorkout(searchInput.value)" type="search" placeholder="Search users...">-->
<!--    </form>-->
    <button  type="button" class="btn btn-info" data-toggle="modal" data-target="#addWorkoutModal">
      <i class="fa fa-plus"></i>New Workout
    </button>
  </div>
  <div class="btn-group">
    <button type="button" (click)="getWorkouts(true)" class="btn btn-info">
      <i *ngIf="refreshing" class="fas fa-sync fa-spin"></i><i *ngIf="!refreshing" class="fas fa-sync"></i>
    </button>
  </div>
</div>

<table class="table table-hover">
  <thead class="table-borderless">
  <tr class="text-center">
    <th>Id</th>
    <th>Workout name</th>
    <th>Room number</th>
    <th>Trainer username</th>
    <th>Workout start date</th>
    <th>Workout end date</th>
    <th>Capacity</th>
    <th>Participants number</th>
    <th>Actions</th>
  </tr>
  </thead>
  <tbody *ngFor="let appWorkout of workouts">
  <tr class="text-center">
    <td (click)="onSelectWorkout(appWorkout)">{{appWorkout?.id}}</td>
    <td (click)="onSelectWorkout(appWorkout)">{{appWorkout?.workoutName}}</td>
    <td (click)="onSelectWorkout(appWorkout)">{{appWorkout?.roomNumber}}</td>
    <td (click)="onSelectWorkout(appWorkout)">{{appWorkout?.trainerUsername}}</td>
    <td (click)="onSelectWorkout(appWorkout)">{{appWorkout?.workoutStartDate}}</td>
    <td (click)="onSelectWorkout(appWorkout)">{{appWorkout?.workoutEndDate}}</td>
    <td (click)="onSelectWorkout(appWorkout)">{{appWorkout?.capacity}}</td>
    <td (click)="onSelectWorkout(appWorkout)">{{appWorkout?.participantsNumber}}</td>
    <td class="">
      <div class="btn-group">
        <button class="btn btn-outline-info"><i class="fas fa-edit"></i></button>
        <button [hidden]="!isAdmin" class="btn btn-outline-danger" (click)="onDeleteWorkout(appWorkout.id)"><i
          class="fas fa-trash"></i></button>
      </div>
    </td>
  </tr>
  </tbody>
</table>

<button [hidden]="true" type="button" id="openWorkoutInfo" data-toggle="modal" data-target="#viewWorkoutModal">
</button>
<button [hidden]="true" type="button" id="openWorkoutEdit" data-toggle="modal" data-target="#editWorkoutModal">
</button>


<!-- modal user info -->
<div class="modal fade bd-example-modal-lg" id="viewWorkoutModal" tabindex="-1" role="dialog" aria-labelledby=""
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title text-center" id="exampleModalLongTitle">{{selectedWorkout?.workoutName}}
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div>
          <div class="card">
            <ul class="list-group list-group-flush">
              <li class="list-group-item"></li>
              <li class="list-group-item"><i class="fa fa-id-badge float-right">Workout name</i>{{selectedWorkout?.workoutName}}
              </li>
              <li class="list-group-item"><i class="fa fa-id-badge float-right"></i>{{selectedWorkout?.roomNumber}}
              </li>
              <li class="list-group-item"><i class="fa fa-id-badge float-right"></i>{{selectedWorkout?.workoutStartDate}}
              </li>
              <li class="list-group-item"><i class="fa fa-id-badge float-right"></i>{{selectedWorkout?.workoutEndDate}}
              </li>
              <li class="list-group-item"><i class="fa fa-id-badge float-right"></i>{{selectedWorkout?.trainerUsername}}
              </li>
              <li class="list-group-item"><i class="fa fa-id-badge float-right"></i>{{selectedWorkout?.capacity}}
              </li>
              <li class="list-group-item"><i class="fa fa-id-badge float-right"></i>{{selectedWorkout?.participantsNumber}}
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!-- model add user -->
<div class="modal draggable fade bd-example-modal-lg" id="addWorkoutModal" tabindex="-1" role="dialog"
     aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title text-center">New User</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div>
          <form #newWorkoutForm="ngForm" (ngSubmit)="onAddNewWorkout(newWorkoutForm)">
            <div class="form-group">
              <label for="workoutName">Workout Name</label>
              <input type="text" name="workoutName" required ngModel class="form-control">
            </div>
            <div class="form-group">
              <label for="roomNumber">Room Number</label>
              <input type="text" name="roomNumber" required ngModel class="form-control">
            </div>
            <div class="form-group">
              <label for="trainerUsername">Trainer Username</label>
              <input type="text" name="trainerUsername" required ngModel class="form-control">
            </div>
            <div class="form-group">
              <label for="capacity">Capacity</label>
              <input type="number" name="capacity" required ngModel class="form-control">
            </div>
            <div class="form-group">
              <label for="participantsNumber">Participants Number</label>
              <input type="number" name="participantsNumber" required ngModel class="form-control">
            </div>
            <div class="form-group">
              <label for="workoutStartDate">Participants Number</label>
              <input type="date" name="workoutStartDate" required ngModel class="form-control">
            </div>
            <div class="form-group">
              <label for="workoutEndDate">Participants Number</label>
              <input type="date" name="workoutEndDate" required ngModel class="form-control">
            </div>

            <button type="submit" style="display: none;" id="new-workout-save"></button>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" id="new-workout-close">Close</button>
        <button type="button" (click)="saveNewWorkout()" [disabled]="newWorkoutForm.invalid" class="btn btn-primary">Save
          changes
        </button>
      </div>
    </div>
  </div>
</div>

