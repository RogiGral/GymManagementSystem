<div class="mb-3 d-flex justify-content-end">
  <div class="btn-group mr-2">
    <button class="btn btn-info" data-target="#yourWorkoutsModal" data-toggle="modal" type="button">
      <i class="fa fa-circle-user"></i> {{'WORKOUTS.TABLE.BUTTON.YOUR_WORKOUTS' | translate}}
    </button>
  </div>

  <div class="btn-group">
    <button type="button" (click)="getWorkouts(true)" class="btn btn-info">
      <i *ngIf="refreshing" class="fas fa-sync fa-spin"></i><i *ngIf="!refreshing" class="fas fa-sync"></i>
    </button>
  </div>
</div>
<div class="d-flex align-items-center justify-content-center">
  <button class="btn btn-outline-info" (click)="removeDay()" [disabled]="disableRemoveDayButton()">
    <i class="fas fa-minus"></i>
  </button>
  <input class="btn btn-outline-info mx-2" type="date" [(ngModel)]="selectedDate" (change)="onDateChange()">
  <button class="btn btn-outline-info" (click)="addDay()">
    <i class="fas fa-plus"></i>
  </button>
</div>
<a aria-hidden="true" class="btn btn-info disabled placeholder col-12 justify-content-center" href="#" tabindex="-1">{{'WORKOUTS.TABLE.TITLE.AVAILABLE_WORKOUTS' | translate}}</a>
<div class="table-responsive">
  <table class="table table-hover">
    <thead class="table-borderless">
    <tr class="text-center">
      <th [hidden]="!isAdmin" class="d-none d-lg-table-cell">Id</th>
      <th>{{'WORKOUTS.TABLE.NAME' | translate}}</th>
      <th>{{'WORKOUTS.TABLE.ROOM_NUMBER' | translate}}</th>
      <th class="d-none d-lg-table-cell">{{'WORKOUTS.TABLE.TRAINER_USERNAME' | translate}}</th>
      <th>{{'WORKOUTS.TABLE.START_DATE' | translate}}</th>
      <th>{{'WORKOUTS.TABLE.END_DATE' | translate}}</th>
      <th class="d-none d-md-table-cell">{{'WORKOUTS.TABLE.CAPPACITY' | translate}}</th>
      <th class="d-none d-md-table-cell">{{'WORKOUTS.TABLE.PARTICIPANTS_NUMBER' | translate}}</th>
      <th class="d-none d-md-table-cell">{{'WORKOUTS.TABLE.DIFFICULTY' | translate}}</th>
      <th>{{'WORKOUTS.TABLE.ACTIONS' | translate}}</th>
    </tr>
    </thead>
    <tbody *ngFor="let appWorkout of filteredWorkouts | paginate: { itemsPerPage: 5, currentPage: currentWorkoutsPage, id:'currentWorkoutsPage' }">
    <tr class="text-center">
      <td (click)="onSelectWorkout(appWorkout)" [hidden]="!isAdmin" class="d-none d-lg-table-cell">{{appWorkout.id}}</td>
      <td (click)="onSelectWorkout(appWorkout)">{{appWorkout.workoutName}}</td>
      <td (click)="onSelectWorkout(appWorkout)">{{appWorkout.roomNumber}}</td>
      <td (click)="onSelectWorkout(appWorkout)" class="d-none d-lg-table-cell">{{appWorkout.trainerUsername}}</td>
      <td (click)="onSelectWorkout(appWorkout)">{{appWorkout.workoutStartDate | date:'medium'}}</td>
      <td (click)="onSelectWorkout(appWorkout)">{{appWorkout.workoutEndDate | date:'medium'}}</td>
      <td (click)="onSelectWorkout(appWorkout)" class="d-none d-md-table-cell">{{appWorkout.capacity}}</td>
      <td (click)="onSelectWorkout(appWorkout)" class="d-none d-md-table-cell">{{appWorkout.participantsNumber}}</td>
      <td (click)="onSelectWorkout(appWorkout)" class="d-none d-md-table-cell">{{'WORKOUTS.DIFFICULTY.' + appWorkout.workoutDifficulty | translate}}</td>
      <td class="">
        <div class="btn-group">
          <button (click)="onJoinWorkout(appWorkout)" class="btn btn-outline-info"><i class="fas fa-plus"></i></button>
        </div>
      </td>
    </tr>
    </tbody>
  </table>
  <pagination-controls (pageChange)="currentWorkoutsPage = $event" id="currentWorkoutsPage"></pagination-controls>
</div>



<button [hidden]="true" data-target="#viewWorkoutModal" data-toggle="modal" id="openWorkoutInfo" type="button">
</button>

<!-- modal workout info -->
<div aria-hidden="true" aria-labelledby="" class="modal fade bd-example-modal-lg" id="viewWorkoutModal" role="dialog"
     tabindex="-1">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title text-center" id="exampleModalLongTitle">{{selectedWorkout.workoutName}}
        </h5>
        <button aria-label="Close" class="close" data-dismiss="modal" type="button">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div>
          <div class="card">
            <ul class="list-group list-group-flush">
              <li class="list-group-item"></li>
              <li class="list-group-item"><b class="float-right">{{'WORKOUTS.TABLE.NAME' | translate}}</b>{{selectedWorkout.workoutName}}
              </li>
              <li class="list-group-item"><b class="float-right">{{'WORKOUTS.TABLE.ROOM_NUMBER' | translate}}</b>{{selectedWorkout.roomNumber}}
              </li>
              <li class="list-group-item"><b class="float-right">{{'WORKOUTS.TABLE.START_DATE' | translate}}</b>{{selectedWorkout.workoutStartDate}}
              </li>
              <li class="list-group-item"><b class="float-right">{{'WORKOUTS.TABLE.END_DATE' | translate}}</b>{{selectedWorkout.workoutEndDate}}
              </li>
              <li class="list-group-item"><b class="float-right">{{'WORKOUTS.TABLE.TRAINER_USERNAME' | translate}}</b>{{selectedWorkout.trainerUsername}}
              </li>
              <li class="list-group-item"><b class="float-right">{{'WORKOUTS.TABLE.CAPPACITY' | translate}}</b>{{selectedWorkout.capacity}}
              </li>
              <li class="list-group-item"><b class="float-right">{{'WORKOUTS.TABLE.PARTICIPANTS_NUMBER' | translate}}</b>{{selectedWorkout.participantsNumber}}
              </li>
              <li class="list-group-item"><b class="float-right">{{'WORKOUTS.TABLE.DIFFICULTY' | translate}}</b>{{selectedWorkout.workoutDifficulty}}
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-dismiss="modal" type="button">{{'WORKOUTS.TABLE.CLOSE' | translate}}</button>
      </div>
    </div>
  </div>
</div>

<!-- modal your workouts modal info -->
<div aria-hidden="true" aria-labelledby="" class="modal fade bd-example-modal-lg" id="yourWorkoutsModal" role="dialog"
     tabindex="-1">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title text-center" id="yourWorkoutsModalTitle">{{'WORKOUTS.TABLE.TITLE.YOUR_WORKOUTS' | translate}}
        </h5>
        <button aria-label="Close" class="close" data-dismiss="modal" type="button">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="table-responsive">
          <table class="table table-hover">
            <thead class="table-borderless">
            <tr class="text-center">
              <th>{{'WORKOUTS.TABLE.NAME' | translate}}</th>
              <th>{{'WORKOUTS.TABLE.ROOM_NUMBER' | translate}}</th>
              <th class="d-none d-lg-table-cell">{{'WORKOUTS.TABLE.TRAINER_USERNAME' | translate}}</th>
              <th>{{'WORKOUTS.TABLE.START_DATE' | translate}}</th>
              <th>{{'WORKOUTS.TABLE.END_DATE' | translate}}</th>
              <th class="d-none d-md-table-cell">{{'WORKOUTS.TABLE.DIFFICULTY' | translate}}</th>
              <th>{{'WORKOUTS.TABLE.ACTIONS' | translate}}</th>
            </tr>
            </thead>
            <tbody *ngFor="let appUserWorkout of userWorkouts | paginate: { itemsPerPage: 5, currentPage: currentUserWorkoutsPage, id:'currentUserWorkoutsPage' }">
            <tr class="text-center">
              <td>{{appUserWorkout.workout.workoutName}}</td>
              <td>{{appUserWorkout.workout.roomNumber}}</td>
              <td class="d-none d-lg-table-cell">{{appUserWorkout.workout.trainerUsername}}</td>
              <td>{{appUserWorkout.workout.workoutStartDate | date:'medium'}}</td>
              <td>{{appUserWorkout.workout.workoutEndDate | date:'medium'}}</td>
              <td class="d-none d-md-table-cell">{{appUserWorkout.workout.workoutDifficulty}}</td>
              <td>
                <div class="btn-group">
                  <button (click)="onLeaveWorkout(appUserWorkout.id)" class="btn btn-outline-danger"><i class="fas fa-minus"></i></button>
                </div>
              </td>
            </tr>
            </tbody>
          </table>
          <pagination-controls (pageChange)="currentUserWorkoutsPage = $event" id="currentUserWorkoutsPage"></pagination-controls>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-dismiss="modal" type="button">{{'WORKOUTS.TABLE.CLOSE' | translate}}</button>
      </div>
    </div>
  </div>
</div>


