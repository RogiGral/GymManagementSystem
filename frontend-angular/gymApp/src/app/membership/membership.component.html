<p></p><div class="mb-3 float-right">
  <div class="btn-group mr-2">
    <!--    <form class="form-inline my-2 my-lg-0 justify-content-center">-->
    <!--      <input name="searchTerm" #searchInput="ngModel" class="form-control mr-sm-2" ngModel-->
    <!--             (ngModelChange)="searchWorkout(searchInput.value)" type="search" placeholder="Search users...">-->
    <!--    </form>-->
    <button  type="button" class="btn btn-info" data-toggle="modal" data-target="#addMembershipModal" *ngIf="isAdminOrCoach">
      <i class="fa fa-plus"></i>New Membership
    </button>
  </div>
  <div class="btn-group">
    <button type="button" (click)="getMemberships(true)"  class="btn btn-info">
      <i *ngIf="refreshing" class="fas fa-sync fa-spin"></i><i *ngIf="!refreshing" class="fas fa-sync"></i>
    </button>
  </div>
</div>

<table class="table table-hover">
  <thead class="table-borderless">
  <tr class="text-center">
    <th>Id</th>
    <th>Membership name</th>
    <th>Membership description</th>
    <th>Membership type</th>
    <th>Membership price</th>
    <th>Number of months</th>
  </tr>
  </thead>
  <tbody *ngFor="let appMembership of memberships ">
  <tr class="text-center">
    <td (click)="onSelectMembership(appMembership)">{{appMembership?.id}}</td>
    <td (click)="onSelectMembership(appMembership)">{{appMembership?.name}}</td>
    <td (click)="onSelectMembership(appMembership)">{{appMembership?.description}}</td>
    <td (click)="onSelectMembership(appMembership)">{{appMembership?.type}}</td>
    <td (click)="onSelectMembership(appMembership)">{{appMembership?.price}}$</td>
    <td (click)="onSelectMembership(appMembership)">{{appMembership?.numberOfMonths}}</td>
    <td class="">
      <div class="btn-group">
        <button class="btn btn-outline-info"><i class="fas fa-edit"></i></button>
        <button [hidden]="!isAdmin" class="btn btn-outline-danger" (click)="onDeleteMembership(appMembership.id)"><i
          class="fas fa-trash"></i></button>
      </div>
    </td>
  </tr>
  </tbody>
</table>

<button [hidden]="true" type="button" id="openMembershipInfo" data-toggle="modal" data-target="#viewMembershipModal">
</button>
<button [hidden]="true" type="button" id="openMembershipEdit" data-toggle="modal" data-target="#editMembershipModal">
</button>


<div class="modal fade bd-example-modal-lg" id="viewMembershipModal" tabindex="-1" role="dialog" aria-labelledby=""
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title text-center" id="exampleModalLongTitle">{{selectedMembership?.name}}
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div>
          <div class="card">
            <ul class="list-group list-group-flush">
              <li class="list-group-item"></li>
              <li class="list-group-item"><b class=" float-right">Name</b>{{selectedMembership?.name}}
              </li>
              <li class="list-group-item"><b class=" float-right">Description</b>{{selectedMembership?.description}}
              </li>
              <li class="list-group-item"><b class=" float-right">Type</b>{{selectedMembership?.type}}
              </li>
              <li class="list-group-item"><b class=" float-right">Price</b>{{selectedMembership?.price}}
              </li>
              <li class="list-group-item"><b class=" float-right">Duration</b>{{selectedMembership?.numberOfMonths}}
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!-- model add mambership -->
<div class="modal draggable fade bd-example-modal-lg" id="addMembershipModal" tabindex="-1" role="dialog"
     aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title text-center">New Membership</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div>
          <form #newMembershipForm="ngForm" (ngSubmit)="onAddNewMembership(newMembershipForm)" >
            <div class="form-group">
              <label for="name">Membership Name</label>
              <input type="text" name="name" required ngModel class="form-control">
            </div>
            <div class="form-group">
              <label for="description">Membership description</label>
              <input type="text" name="description" required ngModel class="form-control">
            </div>
            <div class="form-group">
              <label for="type">Membership type</label>
              <input type="text" name="type" required ngModel class="form-control">
            </div>
            <div class="form-group">
              <label for="price">Membership price</label>
              <input type="number" name="price" required ngModel class="form-control">
            </div>
            <div class="form-group">
              <label for="numberOfMonths">Membership duration</label>
              <input type="number" name="numberOfMonths" required ngModel class="form-control">
            </div>
            <button type="submit" style="display: none;" id="new-membership-save"></button>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" id="new-membership-close">Close</button>
        <button type="button" (click)="saveNewMembership()" [disabled]="newMembershipForm.invalid" class="btn btn-primary">Save
          changes
        </button>
      </div>
    </div>
  </div>
</div>

